<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Comparative Glucose Response by Nutrient Focus and Health Group</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:,">
</head>
<body>
    <div id="loading" style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 80vh;">
        <div class="spinner"></div>
        <div style="margin-top: 18px; font-size: 18px; color: #2d3748;">Loading data, please wait...</div>
    </div>
    <div class="container" style="display:none;">
        <h1 style="text-align: center; font-size: 28px; font-weight: bold; margin-bottom: 20px;">
            Comparative Glucose Response by Nutrient Focus and Health Group
        </h1>
        <p style="font-size: 16px; color: #4a5568; margin-bottom: 20px; text-align: center;">
            <b>Dataset Overview:</b> The CGMacros dataset provides multimodal information from continuous glucose monitors (CGM), food macronutrients, food photographs, and physical activity, along with anonymized participant demographics, anthropometric measurements, and health parameters. It includes data from 45 participants (15 healthy, 16 pre-diabetic, and 14 with Type 2 diabetes) who consumed meals with varying macronutrient compositions over ten days. This dataset is a valuable resource for advancing research in personalized nutrition and automated diet monitoring.
        </p>
        <p style="font-size: 16px; color: #4a5568; margin-bottom: 20px; text-align: center;">
            <b>Research Question:</b> How do different types of meals affect blood sugar levels in people with different health conditions?
        </p>
        <div id="controls">
            <label>Nutrient Focus:</label>
            <select id="nutrientFocus">
                <option>High-Carb</option>
                <option>High-Protein</option>
                <option>High-Fat</option>
            </select>
            <label>Health Group:</label>
            <select id="healthGroup">
                <option>All</option>
                <option>Healthy</option>
                <option>Pre-diabetic</option>
                <option>Type 2 Diabetic</option>
            </select>
        </div>
        <div class="charts-row">
            <div class="chart-container" id="lineChartContainer">
                <p class="desc"><b>Glucose Response Over Time:</b> This line chart shows the average blood glucose response (y-axis) at each minute after a meal (x-axis), for the selected nutrient focus and health group.</p>
                <div id="lineChart"></div>
            </div>
            <div class="chart-container" id="donutChartContainer">
                <p class="desc"><b>Average Meal Nutrients:</b> The donut chart displays the average grams of Carbs, Protein, and Fat per meal, plus the calculated average calories, for the current selection.</p>
                <div id="donutChart"></div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>